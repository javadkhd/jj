{% load static %}

<!DOCTYPE html>
<html dir="rtl">
<head>

    <!-- Basic -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Codes of ICD10</title>

    <meta name="keywords" content="HTML5 Template">
    <meta name="description" content="Porto - Responsive HTML5 Template">
    <meta name="author" content="okler.net">

    <!-- Favicon -->
    <link rel="shortcut icon" href="{% static 'img/favicon.ico' %}" type="image/x-icon">
    <link rel="apple-touch-icon" href="{% static 'img/apple-touch-icon.png' %}">

    <!-- Mobile Metas -->
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1.0, shrink-to-fit=no">

    <!-- Vendor CSS -->
    <link rel="stylesheet" href="{% static 'vendor/bootstrap/css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'vendor/fontawesome-free/css/all.min.css' %}">
    <link rel="stylesheet" href="{% static 'vendor/animate/animate.min.css' %}">
    <link rel="stylesheet" href="{% static 'vendor/simple-line-icons/css/simple-line-icons.min.css' %}">
    <link rel="stylesheet" href="{% static 'vendor/owl.carousel/assets/owl.carousel.min.css' %}">
    <link rel="stylesheet" href="{% static 'vendor/owl.carousel/assets/owl.theme.default.min.css' %}">
    <link rel="stylesheet" href="{% static 'vendor/magnific-popup/magnific-popup.min.css' %}">

    <!-- Theme CSS -->
    <link rel="stylesheet" href="{% static 'css/theme.css' %}">
    <link rel="stylesheet" href="{% static 'css/theme-elements.css' %}">
    <link rel="stylesheet" href="{% static 'css/theme-blog.css' %}">
    <link rel="stylesheet" href="{% static 'css/theme-shop.css' %}">

    <!-- Current Page CSS -->
    <link rel="stylesheet" href="{% static 'vendor/rs-plugin/css/settings.css' %}">
    <link rel="stylesheet" href="{% static 'vendor/rs-plugin/css/layers.css' %}">
    <link rel="stylesheet" href="{% static 'vendor/rs-plugin/css/navigation.css' %}">

    <!-- Demo CSS -->
    <link rel="stylesheet" href="{% static 'css/demos/demo-medical.css' %}}">

    <!-- Skin CSS -->
    <link rel="stylesheet" href="{% static 'css/skins/skin-medical.css' %}}">

    <!-- Theme Custom CSS -->
    <link rel="stylesheet" href="{% static 'css/custom.css' %}">

    <!-- Head Libs -->
    <script src="{% static 'vendor/modernizr/modernizr.min.js' %}"></script>

</head>
<body class="loading-overlay-showing" data-plugin-page-transition data-loading-overlay
      data-plugin-options="{'hideDelay': 500}"
>
<div class="loading-overlay">
    <div class="bounce-loader">
        <div class="bounce1"></div>
        <div class="bounce2"></div>
        <div class="bounce3"></div>
    </div>
</div>
<div class="body">
    <header id="header"
            class="header-transparent header-semi-transparent header-semi-transparent-dark header-effect-shrink"
            data-plugin-options="{'stickyEnabled': true, 'stickyEffect': 'shrink', 'stickyEnableOnBoxed': true, 'stickyEnableOnMobile': true, 'stickyChangeLogo': true, 'stickyStartAt': 30, 'stickyHeaderContainerHeight': 70}">
        <div class="header-body border-top-0 bg-dark box-shadow-none" style="opacity: 0.7">
            <div class="header-container container">
                <div class="header-row">
                    <div class="header-column">
                        <div class="header-row">
                            <div class="header-logo">
                                <a href="index.html">
                                    <img alt="Porto" width="82" height="40"
                                         src="{% static 'img/logo-corporate-4.png' %}}">
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="header-column justify-content-end">
                        <div class="header-row">
                            <div class="header-nav header-nav-links header-nav-dropdowns-dark header-nav-light-text order-2 order-lg-1">
                                <div class="header-nav-main header-nav-main-mobile-dark header-nav-main-square header-nav-main-font-md header-nav-main-dropdown-no-borders header-nav-main-effect-2 header-nav-main-sub-effect-1">
                                    <nav class="collapse">
                                        <ul class="nav nav-pills" id="mainNav">
                                            <li class="dropdown">
                                                <a class="dropdown-item dropdown-toggle" href="index.html">
                                                    خانه
                                                </a>
                                                <ul class="dropdown-menu">
                                                    <li>
                                                        <a class="dropdown-item" href="index.html">
                                                            صفحه اول
                                                        </a>
                                                    </li>
                                                    <li>
                                                        <a class="dropdown-item" href="index.html#demos">
                                                            پیش‌نمایش ها
                                                        </a>
                                                    </li>
                                                    <li class="dropdown-submenu">
                                                        <a class="dropdown-item" href="#">کلاسیک</a>
                                                        <ul class="dropdown-menu">
                                                            <li><a class="dropdown-item" href="index-classic.html">کلاسیک
                                                                - اصلی</a></li>
                                                            <li><a class="dropdown-item"
                                                                   href="index-classic-color.html">کلاسیک - رنگی</a>
                                                            </li>
                                                            <li><a class="dropdown-item"
                                                                   href="index-classic-light.html">کلاسیک - روشن</a>
                                                            </li>
                                                            <li><a class="dropdown-item"
                                                                   href="index-classic-video.html">کلاسیک - ویدئو</a>
                                                            </li>
                                                            <li><a class="dropdown-item"
                                                                   href="index-classic-video-light.html">کلاسیک - ویدئو
                                                                - روشن</a></li>
                                                        </ul>
                                                    </li>
                                                    <li class="dropdown-submenu">
                                                        <a class="dropdown-item" href="#">شرکتی <span
                                                                class="tip tip-dark">داغ</span></a>
                                                        <ul class="dropdown-menu">
                                                            <li><a class="dropdown-item" href="index-corporate.html">شرکتی
                                                                - نسخه 1</a></li>
                                                            <li><a class="dropdown-item" href="index-corporate-2.html">شرکتی
                                                                - نسخه 2</a></li>
                                                            <li><a class="dropdown-item" href="index-corporate-3.html">شرکتی
                                                                - نسخه 3</a></li>
                                                            <li><a class="dropdown-item" href="index-corporate-4.html">شرکتی
                                                                - نسخه 4</a></li>
                                                            <li><a class="dropdown-item" href="index-corporate-5.html">شرکتی
                                                                - نسخه 5</a></li>
                                                            <li><a class="dropdown-item" href="index-corporate-6.html">شرکتی
                                                                - نسخه 6</a></li>
                                                            <li><a class="dropdown-item" href="index-corporate-7.html">شرکتی
                                                                - نسخه 7</a></li>
                                                            <li><a class="dropdown-item" href="index-corporate-8.html">شرکتی
                                                                - نسخه 8</a></li>
                                                            <li><a class="dropdown-item" href="index-corporate-9.html">شرکتی
                                                                - نسخه 9</a></li>
                                                            <li><a class="dropdown-item" href="index-corporate-10.html">شرکتی
                                                                - نسخه 10</a></li>
                                                            <li><a class="dropdown-item" href="index-corporate-11.html">شرکتی
                                                                - نسخه 11</a></li>
                                                            <li><a class="dropdown-item" href="index-corporate-12.html">شرکتی
                                                                - نسخه 12</a></li>
                                                            <li><a class="dropdown-item" href="index-corporate-13.html">شرکتی
                                                                - نسخه 13</a></li>
                                                            <li><a class="dropdown-item" href="index-corporate-14.html">شرکتی
                                                                - نسخه 14</a></li>
                                                            <li><a class="dropdown-item" href="index-corporate-15.html">شرکتی
                                                                - نسخه 15</a></li>
                                                            <li><a class="dropdown-item" href="index-corporate-16.html">شرکتی
                                                                - نسخه 16</a></li>
                                                            <li><a class="dropdown-item" href="index-corporate-17.html">شرکتی
                                                                - نسخه 17</a></li>
                                                            <li><a class="dropdown-item" href="index-corporate-18.html">شرکتی
                                                                - نسخه 18</a></li>
                                                            <li><a class="dropdown-item" href="index-corporate-19.html">شرکتی
                                                                - نسخه 19</a></li>
                                                            <li><a class="dropdown-item" href="index-corporate-20.html">شرکتی
                                                                - نسخه 20</a></li>
                                                        </ul>
                                                    </li>
                                                    <li class="dropdown-submenu">
                                                        <a class="dropdown-item" href="#">نمونه‌کارها</a>
                                                        <ul class="dropdown-menu">
                                                            <li><a class="dropdown-item" href="index-portfolio.html">نمونه‌کارها
                                                                - نسخه 1</a></li>
                                                            <li><a class="dropdown-item" href="index-portfolio-2.html">نمونه‌کارها
                                                                - نسخه 2</a></li>
                                                            <li><a class="dropdown-item" href="index-portfolio-3.html">نمونه‌کارها
                                                                - نسخه 3</a></li>
                                                            <li><a class="dropdown-item" href="index-portfolio-4.html">نمونه‌کارها
                                                                - نسخه 4</a></li>
                                                            <li><a class="dropdown-item" href="index-portfolio-5.html">نمونه‌کارها
                                                                - نسخه 5</a></li>
                                                        </ul>
                                                    </li>
                                                    <li class="dropdown-submenu">
                                                        <a class="dropdown-item" href="#">بلاگ</a>
                                                        <ul class="dropdown-menu">
                                                            <li><a class="dropdown-item" href="index-blog.html">بلاگ -
                                                                نسخه 1</a></li>
                                                            <li><a class="dropdown-item" href="index-blog-2.html">بلاگ -
                                                                نسخه 2</a></li>
                                                            <li><a class="dropdown-item" href="index-blog-3.html">بلاگ -
                                                                نسخه 3</a></li>
                                                            <li><a class="dropdown-item" href="index-blog-4.html">بلاگ -
                                                                نسخه 4</a></li>
                                                            <li><a class="dropdown-item" href="index-blog-5.html">بلاگ -
                                                                نسخه 5</a></li>
                                                        </ul>
                                                    </li>
                                                    <li class="dropdown-submenu">
                                                        <a class="dropdown-item" href="#">تک صفحه</a>
                                                        <ul class="dropdown-menu">
                                                            <li><a class="dropdown-item" href="index-one-page.html">تک
                                                                صفحه اصلی</a></li>
                                                        </ul>
                                                    </li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </nav>
                                </div>
                                <button class="btn header-btn-collapse-nav" data-toggle="collapse"
                                        data-target=".header-nav-main nav">
                                    <i class="fas fa-bars"></i>
                                </button>
                            </div>
                            <div class="header-nav-features header-nav-features-light header-nav-features-no-border header-nav-features-lg-show-border order-1 order-lg-2">
                                <div class="header-nav-feature header-nav-features-search d-inline-flex">
                                    <a href="#" class="header-nav-features-toggle" data-focus="headerSearch"><i
                                            class="fas fa-search header-nav-top-icon"></i></a>
                                    <div class="header-nav-features-dropdown header-nav-features-dropdown-mobile-fixed"
                                         id="headerTopSearchDropdown">
                                        <form role="search" action="page-search-results.html" method="get">
                                            <div class="simple-search input-group">
                                                <input class="form-control text-1" id="headerSearch" name="q"
                                                       type="search" value="" placeholder="جستجو ...">
                                                <span class="input-group-append">
															<button class="btn" type="submit">
																<i class="fa fa-search header-nav-top-icon text-color-dark"></i>
															</button>
														</span>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>


    <div role="main" class="main bg-color-grey-scale-7 jj-background">
        <div class="container">

            <div class="row mt-5 mb-4">

                <div class="col">
                    <br/>
                    <br/>
                    <br/>
                    <br/>
                    <form>
                        <div class="form-row">
                            <div class="form-group col-lg-6">
                                <label class="font-weight-bold text-dark text-2">نام</label>
                                <input id="first_name" type="text" value="" class="form-control">
                            </div>
                            <div class="form-group col-lg-6">
                                <label class="font-weight-bold text-dark text-2">نام خانوادگی</label>
                                <input id="last_name" type="text" value="" class="form-control">
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group col-lg-6">
                                <label class="font-weight-bold text-dark text-2">کد ملی بیمار</label>
                                <input id="national_code" type="text" value="" class="form-control">
                            </div>
                            <div class="form-group col-lg-6">
                                <label class="font-weight-bold text-dark text-2">نام پزشک</label>
                                <input id="doctor_name" type="text" value="" class="form-control">
                            </div>

                        </div>


                        <h2 class="font-weight-semi-bold mb-3">جستجو در بین کدهای ICD10</h2>
                        <form>
                            <div class="autocomplete">
                                <h5>شرح عمل</h5>
                                <input id="myInput4" value="" type="text" name="myCountry4" placeholder="شرح عمل"
                                       class="col-lg-12">

                            </div>
                        </form>

                        <div style="height:200px; overflow: scroll; opacity: 0.7" class="mt-2 bg-light">
                            <table id="explanations" class="text-color-dark ">

                            </table>
                        </div>
                        <h5>توضیحات</h5>
                        <div style="height: 200px;overflow: scroll; opacity: 0.7" class="bg-light">

                            <table id="descriptions" class="text-color-dark"></table>
                            {#                <p id="myInput5" type="text" name="myCountry5" placeholder="توضیحات"></p>#}
                        </div>
                        {#            <h5>کد ملی</h5>#}
                        {#            <p id="demo"></p>#}

                        <div class="form-row">
                            <label class="font-weight-bold text-dark text-2">کد ملی عمل</label>

                            <div id="asghar" class="form-group col-lg-4">
                                {#                                <input id="code" type="text" value="" class="form-control" multiple>#}
                            </div>
                            <div class="form-group col-lg-1">
                                <label class="font-weight-bold text-dark text-2">اضافه کردن کد</label>
                                <input id="akbar" type="submit" value="submit"
                                       class="btn  btn-light text-2 text-uppercase float-right mb-2"
                                       data-loading-text="در حال بارگذاری ...">
                            </div>

                        </div>


                        <div class="form-row">
                            <div class="form-group col">
                                <input id="edameh" type="submit" value="ادامه"
                                       class="btn btn-xl btn-light pr-4 pl-4 text-2 font-weight-semibold text-uppercase float-right mb-2"
                                       data-loading-text="در حال بارگذاری ...">
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- Vendor -->
<script src="{% static 'vendor/jquery/jquery.min.js' %}"></script>
<script src="{% static 'vendor/jquery.appear/jquery.appear.min.js' %}"></script>
<script src="{% static 'vendor/jquery.easing/jquery.easing.min.js' %}"></script>
<script src="{% static 'vendor/jquery.cookie/jquery.cookie.min.js' %}"></script>
<script src="{% static 'vendor/popper/umd/popper.min.js' %}"></script>
<script src="{% static 'vendor/bootstrap/js/bootstrap.min.js' %}"></script>
<script src="{% static 'vendor/common/common.min.js' %}"></script>
<script src="{% static 'vendor/jquery.validation/jquery.validate.min.js' %}"></script>
<script src="{% static 'vendor/jquery.easy-pie-chart/jquery.easypiechart.min.js' %}"></script>
<script src="{% static 'vendor/jquery.gmap/jquery.gmap.min.js' %}"></script>
<script src="{% static 'vendor/jquery.lazyload/jquery.lazyload.min.js' %}"></script>
<script src="{% static 'vendor/isotope/jquery.isotope.min.js' %}"></script>
<script src="{% static 'vendor/owl.carousel/owl.carousel.min.js' %}"></script>
<script src="{% static 'vendor/magnific-popup/jquery.magnific-popup.min.js' %}"></script>
<script src="{% static 'vendor/vide/jquery.vide.min.js' %}"></script>
<script src="{% static 'vendor/vivus/vivus.min.js' %}"></script>

<!-- Theme Base, Components and Settings -->
<script src="{% static 'js/theme.js' %}"></script>

<!-- Current Page Vendor and Views -->
<script src="{% static 'vendor/rs-plugin/js/jquery.themepunch.tools.min.js' %}"></script>
<script src="{% static 'vendor/rs-plugin/js/jquery.themepunch.revolution.min.js' %}"></script>
<script src="{% static 'js/views/view.contact.js' %}}"></script>
<script src="{% static 'js/demos/demo-medical.js' %}}"></script>
<!-- Theme Custom -->
<script src="{% static 'js/custom.js' %}"></script>

<!-- Theme Initialization Files -->
<script src="{% static 'js/theme.init.js' %}"></script>


<script>

    function createTableByJqueryEach(data, id) {


        var eTable = "<table><thead><tr><th colspan='3'>لیست موارد مشابه</th></tr><tr><th>انتخاب</th><th>عنوان</th></tr></thead><tbody>"
        $.each(data, function (index, row) {

            eTable += "<tr>";
            $.each(row, function (key, value) {
                eTable += "<td><button class=\"btnSelect\">Select</button></td>";
                eTable += "<td>" + value + "</td>";
            });
            eTable += "</tr>";
        });
        eTable += "</tbody></table>";
        $(id).html(eTable);
    }

    {#function createTableByForLoop(data) {#}
    {#    var eTable = "<table><thead><tr><th colspan='3'>لیست موارد مشابه</th></tr><tr><th>col1</th><th>col2</th><th>col3</th</tr></thead><tbody>"#}
    {#    for (var i = 0; i < data.length; i += 3) {#}
    {#        eTable += "<tr>";#}
    {#        eTable += "<td>" + data[i] + "</td>";#}
    {#eTable += "<td>" + data[i + 1] + "</td>";#}
    {#eTable += "<td>" + data[i + 2] + "</td>";#}
    {#        eTable += "</tr>";#}
    {#    }#}
    {#    eTable += "</tbody></table>";#}
    {#    $('#explanations').html(eTable);#}
    {# }#}


    $(document).ready(function () {
        $('#myInput4').on("keypress keydown OnChange", function () {

            var term = document.getElementById("myInput4");

            $.ajax({
                url: '/icd10/col10/',
                data: {
                    term: term.value,
                },
                method: 'get',

            })
                .done(function (response) {
                    var explanations = response.explanations;
                    {#alert("ssss")#}
                    {#createTableByForLoop(explanations);#}


                    createTableByJqueryEach(explanations, "#explanations");

                });


        });
    });
</script>

<script>
    $(document).ready(function () {

        // code to read selected table row cell data (values).
        $("#explanations").on('click', '.btnSelect', function () {
            // get the current row
            var currentRow = $(this).closest("tr");

            var col1 = currentRow.find("td:eq(0)").text(); // get current row 1st TD value
            var col2 = currentRow.find("td:eq(1)").text(); // get current row 2nd TD
            var col3 = currentRow.find("td:eq(2)").text(); // get current row 3rd TD
            var explanation = col1 + "\n" + col2 + "\n" + col3;

            {#alert(data);#}
            $.ajax({
                url: '/icd10/col11/',
                data: {
                    explanation: explanation,
                },
                method: 'get',

            })
                .done(function (response) {
                    var descriptions = response.descriptions;

                    createTableByJqueryEach(descriptions, "#descriptions");

                });
        });
    });

</script>

<script>
    $(document).ready(function () {

        // code to read selected table row cell data (values).
        $("#descriptions").on('click', '.btnSelect', function () {
            // get the current row
            var currentRow = $(this).closest("tr");

            var col1 = currentRow.find("td:eq(0)").text(); // get current row 1st TD value
            var col2 = currentRow.find("td:eq(1)").text(); // get current row 2nd TD
            var col3 = currentRow.find("td:eq(2)").text(); // get current row 3rd TD
            var explanation = col1 + "\n" + col2 + "\n" + col3;


            $.ajax({
                url: '/icd10/col12/',
                data: {
                    explanation: explanation,
                },
                method: 'get',

            })
                .done(function (response) {

                    var code = response.code;

                    var codes = $('#asghar').text();

                    if (!(codes.match(code))) {
                        $('#asghar').append('<input name="asgharian" class="asgharian" type="checkbox" value=' + code + ' /> ' + code + '<br />');
                    }

                });
        });
    });

</script>


<script>
    function loadScript() {
        // get the current row
        var first_name = $("#first_name").val()
        var last_name = $("#last_name").val()
        var national_code = $("#national_code").val()
        var doctor_name = $("#doctor_name").val()

        var arr = [];
        $('input.asgharian:checkbox:checked').each(function () {
            arr.push($(this).val());
        });

        var codes = JSON.stringify(arr);


        $.ajax({
            url: '/icd10/col14/',
            data: {
                first_name: first_name,
                last_name: last_name,
                national_code: national_code,
                doctor_name: doctor_name,
                codes: codes,
            },
            method: 'get',

        })
            .done(function (response) {
                if (response.status_code === 400) {
                    alert("not complete information")
                } else if (response.status_code === 200) {
                    location.reload();
                } else {
                    alert("10006016")
                }

            });
    }


</script>


<script>
    $(document).ready(function () {

        // code to read selected table row cell data (values).
        $("#akbar").on('click', function () {

            var arr = [];
            $('input.asgharian:checkbox:checked').each(function () {
                arr.push($(this).val());
            });

            var jj = JSON.stringify(arr);


            $.ajax({
                url: '/icd10/col13/',
                data: {
                    arr: jj,
                },
                method: 'get',

            })
                .done(function (response) {
                    if (response.status_code === 200) {
                        loadScript()
                    } else {
                        alert(response.status_code)
                    }
                });
        });
    })
    ;

</script>

{#<script>#}
{#    $(document).ready(function () {#}
{##}
{#        // code to read selected table row cell data (values).#}
{#        $("#edameh").on('click', function () {#}
{#            // get the current row#}
{#            var first_name = $("#first_name").val()#}
{#alert(first_name)#}
{#            var last_name = $("#last_name").val()#}
{#            var national_code = $("#national_code").val()#}
{#            var doctor_name = $("#doctor_name").val()#}
{##}
{#            var arr = [];#}
{#            $('input.asgharian:checkbox:checked').each(function () {#}
{#                arr.push($(this).val());#}
{#            });#}
{##}
{#            var codes = JSON.stringify(arr);#}
{##}
{##}
{#            $.ajax({#}
{#                url: '/icd10/col14/',#}
{#                data: {#}
{#                    first_name: first_name,#}
{#                    last_name: last_name,#}
{#                    national_code: national_code,#}
{#                    doctor_name: doctor_name,#}
{#                    codes: codes,#}
{#                },#}
{#                method: 'get',#}
{##}
{#            })#}
{#                .done(function (response) {#}
{#                    if (response.status_code === 400) {#}
{#                        alert("not complete information")#}
{#                    } else if (response.status_code === 200) {#}
{#                        location.reload();#}
{#                    } else {#}
{#                        alert("10006016")#}
{#                    }#}
{##}
{#                });#}
{#        });#}
{#    });#}
{##}
{#</script>#}




</body>
</html>